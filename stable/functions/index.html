<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Types and Functions · MatrixLM.jl</title><meta name="title" content="Types and Functions · MatrixLM.jl"/><meta property="og:title" content="Types and Functions · MatrixLM.jl"/><meta property="twitter:title" content="Types and Functions · MatrixLM.jl"/><meta name="description" content="Documentation for MatrixLM.jl."/><meta property="og:description" content="Documentation for MatrixLM.jl."/><meta property="twitter:description" content="Documentation for MatrixLM.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MatrixLM.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../example_ordinal_data/">Example: MLM for ordinal data</a></li><li class="is-active"><a class="tocitem" href>Types and Functions</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Description"><span>Description</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Types and Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Types and Functions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/senresearch/MatrixLM.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/senresearch/MatrixLM.jl/blob/main/docs/src/functions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#MatrixLM.Mlm"><code>MatrixLM.Mlm</code></a></li><li><a href="#MatrixLM.Predictors"><code>MatrixLM.Predictors</code></a></li><li><a href="#MatrixLM.RawData"><code>MatrixLM.RawData</code></a></li><li><a href="#MatrixLM.Response"><code>MatrixLM.Response</code></a></li><li><a href="#MatrixLM.add_intercept-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.add_intercept</code></a></li><li><a href="#MatrixLM.calc_coeffs-NTuple{5, AbstractMatrix{Float64}}"><code>MatrixLM.calc_coeffs</code></a></li><li><a href="#MatrixLM.calc_preds-Tuple{AbstractMatrix{Float64}, AbstractMatrix{Float64}, AbstractMatrix{Float64}}"><code>MatrixLM.calc_preds</code></a></li><li><a href="#MatrixLM.calc_preds!-NTuple{4, AbstractMatrix{Float64}}"><code>MatrixLM.calc_preds!</code></a></li><li><a href="#MatrixLM.calc_resid-NTuple{4, AbstractMatrix{Float64}}"><code>MatrixLM.calc_resid</code></a></li><li><a href="#MatrixLM.calc_resid!-NTuple{5, AbstractMatrix{Float64}}"><code>MatrixLM.calc_resid!</code></a></li><li><a href="#MatrixLM.calc_sigma-Tuple{AbstractMatrix{Float64}, AbstractString}"><code>MatrixLM.calc_sigma</code></a></li><li><a href="#MatrixLM.calc_sigma-Tuple{AbstractMatrix{Float64}, Nothing}"><code>MatrixLM.calc_sigma</code></a></li><li><a href="#MatrixLM.calc_var-NTuple{5, AbstractMatrix{Float64}}"><code>MatrixLM.calc_var</code></a></li><li><a href="#MatrixLM.center-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.center</code></a></li><li><a href="#MatrixLM.coef-Tuple{Mlm}"><code>MatrixLM.coef</code></a></li><li><a href="#MatrixLM.contr"><code>MatrixLM.contr</code></a></li><li><a href="#MatrixLM.cov_est-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.cov_est</code></a></li><li><a href="#MatrixLM.design_matrix-Tuple{Any, DataFrames.DataFrame, Dict}"><code>MatrixLM.design_matrix</code></a></li><li><a href="#MatrixLM.design_matrix_names-Tuple{Any, DataFrames.DataFrame, Dict}"><code>MatrixLM.design_matrix_names</code></a></li><li><a href="#MatrixLM.diagonal-Tuple{AbstractVector{Float64}}"><code>MatrixLM.diagonal</code></a></li><li><a href="#MatrixLM.diagonal-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.diagonal</code></a></li><li><a href="#MatrixLM.diagonal-Tuple{Float64}"><code>MatrixLM.diagonal</code></a></li><li><a href="#MatrixLM.fitted-Tuple{Mlm}"><code>MatrixLM.fitted</code></a></li><li><a href="#MatrixLM.get_X-Tuple{RawData}"><code>MatrixLM.get_X</code></a></li><li><a href="#MatrixLM.get_Y-Tuple{RawData}"><code>MatrixLM.get_Y</code></a></li><li><a href="#MatrixLM.get_Z-Tuple{RawData}"><code>MatrixLM.get_Z</code></a></li><li><a href="#MatrixLM.get_dummy-Tuple{DataFrames.DataFrame, Symbol, String, Nothing}"><code>MatrixLM.get_dummy</code></a></li><li><a href="#MatrixLM.get_dummy-Tuple{DataFrames.DataFrame, Symbol, String, String}"><code>MatrixLM.get_dummy</code></a></li><li><a href="#MatrixLM.kron_diag-Tuple{Any, Any}"><code>MatrixLM.kron_diag</code></a></li><li><a href="#MatrixLM.mlm-Tuple{RawData}"><code>MatrixLM.mlm</code></a></li><li><a href="#MatrixLM.mlm_fit-Tuple{RawData, Nothing, Any}"><code>MatrixLM.mlm_fit</code></a></li><li><a href="#MatrixLM.mlm_fit-Tuple{RawData, Vector{Float64}, Any}"><code>MatrixLM.mlm_fit</code></a></li><li><a href="#MatrixLM.mlm_perms"><code>MatrixLM.mlm_perms</code></a></li><li><a href="#MatrixLM.perm_pvals"><code>MatrixLM.perm_pvals</code></a></li><li><a href="#MatrixLM.predict"><code>MatrixLM.predict</code></a></li><li><a href="#MatrixLM.remove_intercept-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.remove_intercept</code></a></li><li><a href="#MatrixLM.resid"><code>MatrixLM.resid</code></a></li><li><a href="#MatrixLM.shrink_sigma-Tuple{AbstractMatrix{Float64}, String}"><code>MatrixLM.shrink_sigma</code></a></li><li><a href="#MatrixLM.shuffle_cols-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.shuffle_cols</code></a></li><li><a href="#MatrixLM.shuffle_rows-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.shuffle_rows</code></a></li><li><a href="#MatrixLM.t_stat"><code>MatrixLM.t_stat</code></a></li><li><a href="#MatrixLM.@mlmformula-Tuple{Any}"><code>MatrixLM.@mlmformula</code></a></li></ul><h2 id="Description"><a class="docs-heading-anchor" href="#Description">Description</a><a id="Description-1"></a><a class="docs-heading-anchor-permalink" href="#Description" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.Mlm" href="#MatrixLM.Mlm"><code>MatrixLM.Mlm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Mlm(B::Array{Float64,2}, varB::Array{Float64,2}, sigma::Array{Float64,2},    
    data::RawData, weights, targetType, lambda::Float64)</code></pre><p>Type for storing the results of an mlm model fit. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.Predictors" href="#MatrixLM.Predictors"><code>MatrixLM.Predictors</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Predictors(X::AbstractArray{Float64,2}, Z::AbstractArray{Float64,2},
           hasXIntercept::Bool, hasZIntercept::Bool)</code></pre><p>Type for storing predictor (covariate) matrices. Also stores boolean  variables hasXIntercept and hasZIntercept (if they are not supplied, they  default to false). </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/data_types.jl#L13-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.RawData" href="#MatrixLM.RawData"><code>MatrixLM.RawData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RawData(response::Response, predictors::Predictors)</code></pre><p>Type for storing response and predictor matrices</p><p>Also stores dimensions of matrices as n, m, p, and q. </p><ul><li><code>n</code> : number of rows of X = number of rows of Y</li><li><code>m</code> : number of rows of Z = number of columns of Y</li><li><code>p</code> : number of columns of X</li><li><code>q</code> : number of columns of Z</li></ul><p>The constructor will compute n, m, p, and q based on the response and  predictor matrices and assert that they are consistent. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/data_types.jl#L45-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.Response" href="#MatrixLM.Response"><code>MatrixLM.Response</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Response(Y::AbstractArray{Float64,2})</code></pre><p>Type for storing response matrix</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/data_types.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.add_intercept-Tuple{AbstractMatrix{Float64}}" href="#MatrixLM.add_intercept-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.add_intercept</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_intercept(A::AbstractArray{Float64,2})</code></pre><p>Insert an intercept column (column of ones) at the beginning of a 2d array. </p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractArray{Float64,2}</code>: 2d array of floats</li></ul><p><strong>Value</strong></p><p>Returns A with an intercept column</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/misc_helpers.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.calc_coeffs-NTuple{5, AbstractMatrix{Float64}}" href="#MatrixLM.calc_coeffs-NTuple{5, AbstractMatrix{Float64}}"><code>MatrixLM.calc_coeffs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_coeffs(X::AbstractArray{Float64,2}, Y::AbstractArray{Float64,2}, 
            Z::AbstractArray{Float64,2}, XTX::AbstractArray{Float64,2}, 
            ZTZ::AbstractArray{Float64,2})</code></pre><p>Calculates the the coefficient estimates</p><p><strong>Arguments</strong></p><ul><li><code>X::AbstractArray{Float64,2}</code>: The row covariates, with all  categorical variables coded in appropriate contrasts</li><li><code>Y::AbstractArray{Float64,2}</code>: The multivariate response</li><li><code>Z::AbstractArray{Float64,2}</code>: The column covariates, with all categorical variables coded in appropriate contrasts</li><li><code>XTX::AbstractArray{Float64,2}</code>: X*transpose(X) product as a 2d array of floats </li><li><code>ZTZ::AbstractArray{Float64,2}</code>: Z*transpose(Z) product as a 2d array of floats </li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm_helpers.jl#L1-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.calc_preds!-NTuple{4, AbstractMatrix{Float64}}" href="#MatrixLM.calc_preds!-NTuple{4, AbstractMatrix{Float64}}"><code>MatrixLM.calc_preds!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_preds!(preds::AbstractArray{Float64,2}, 
            X::AbstractArray{Float64,2}, 
            Z::AbstractArray{Float64,2}, 
            B::AbstractArray{Float64,2})</code></pre><p>Predict values in place</p><p><strong>Arguments</strong></p><ul><li><code>preds::AbstractArray{Float64,2}</code>: The predicted values, to be  updated in place</li><li><code>X::AbstractArray{Float64,2}</code>: The row covariates, standardized as  necessary</li><li><code>Z::AbstractArray{Float64,2}</code>: The column covariates, standardized  as necessary</li><li><code>B::AbstractArray{Float64,2}</code>: Coefficient estimates</li></ul><p><strong>Value</strong></p><p>None; updates predicted values in place. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/calc_preds.jl#L30-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.calc_preds-Tuple{AbstractMatrix{Float64}, AbstractMatrix{Float64}, AbstractMatrix{Float64}}" href="#MatrixLM.calc_preds-Tuple{AbstractMatrix{Float64}, AbstractMatrix{Float64}, AbstractMatrix{Float64}}"><code>MatrixLM.calc_preds</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_preds(X::AbstractArray{Float64,2}, 
           Z::AbstractArray{Float64,2}, 
           B::AbstractArray{Float64,2})</code></pre><p>Predict values</p><p><strong>Arguments</strong></p><ul><li><code>X::AbstractArray{Float64,2}</code>: The row covariates, standardized as  necessary</li><li><code>Z::AbstractArray{Float64,2}</code>: The column covariates, standardized  as necessary</li><li><code>B::AbstractArray{Float64,2}</code>: Coefficient estimates</li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/calc_preds.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.calc_resid!-NTuple{5, AbstractMatrix{Float64}}" href="#MatrixLM.calc_resid!-NTuple{5, AbstractMatrix{Float64}}"><code>MatrixLM.calc_resid!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_resid!(resid::AbstractArray{Float64,2}, 
                 X::AbstractArray{Float64,2}, 
                 Y::AbstractArray{Float64,2}, 
                 Z::AbstractArray{Float64,2}, 
                 B::AbstractArray{Float64,2})</code></pre><p>Calculate residuals in place</p><p><strong>Arguments</strong></p><ul><li><code>resid</code>: 2d array of floats consisting of the residuals, to be updated in  place</li><li><code>X</code>: 2d array of floats consisting of the row covariates, standardized as  necessary</li><li><code>Y</code>: 2d array of floats consisting of the multivariate response  observations, standardized as necessary</li><li><code>Z</code>: 2d array of floats consisting of the column covariates, standardized  as necessary</li><li><code>B</code>: 2d array of floats consisting of coefficient estimates</li></ul><p><strong>Value</strong></p><p>None; updates residuals in place. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/calc_resid.jl#L33-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.calc_resid-NTuple{4, AbstractMatrix{Float64}}" href="#MatrixLM.calc_resid-NTuple{4, AbstractMatrix{Float64}}"><code>MatrixLM.calc_resid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_resid(X::AbstractArray{Float64,2}, Y::AbstractArray{Float64,2}, 
       Z::AbstractArray{Float64,2}, B::AbstractArray{Float64,2})</code></pre><p>Calculate residuals</p><p><strong>Arguments</strong></p><ul><li><code>X::AbstractArray{Float64,2}</code>: The row covariates, standardized as  necessary</li><li><code>Y::AbstractArray{Float64,2}</code>: The multivariate response observations, standardized as necessary</li><li><code>Z::AbstractArray{Float64,2}</code>: The column covariates, standardized as necessary</li><li><code>B::AbstractArray{Float64,2}</code>: The coefficient estimates</li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/calc_resid.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.calc_sigma-Tuple{AbstractMatrix{Float64}, AbstractString}" href="#MatrixLM.calc_sigma-Tuple{AbstractMatrix{Float64}, AbstractString}"><code>MatrixLM.calc_sigma</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_sigma(resid::AbstractArray{Float64,2}, targetType::AbstractString)</code></pre><p>Estimates variance of errors and the shrinkage coefficient, with variance  shrinkage. </p><p><strong>Arguments</strong></p><ul><li><code>resid::AbstractArray{Float64,2}</code>: 2d array of floats consisting of the residuals</li><li><code>targetType::AbstractString</code>: Indicating the target type toward which to shrink the  variance. Acceptable inputs are &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, and &quot;D&quot;. <ul><li>&quot;A&quot;: Target is identity matrix</li><li>&quot;B&quot;: Target is diagonal matrix with constant diagonal</li><li>&quot;C&quot;: Target is has same diagonal element, and same off-diagonal element</li><li>&quot;D&quot;: Target is diagonal matrix with unequal entries</li></ul></li></ul><p><strong>Value</strong></p><p>Tuple</p><ul><li><code>sigma</code>: 2d array of floats; shrunk estimated variance of errors</li><li><code>lambda</code>: floating scalar; estimated shrinkage coefficient  (0 = no shrinkage, 1 = complete shrinkage)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm_helpers.jl#L66-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.calc_sigma-Tuple{AbstractMatrix{Float64}, Nothing}" href="#MatrixLM.calc_sigma-Tuple{AbstractMatrix{Float64}, Nothing}"><code>MatrixLM.calc_sigma</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_sigma(resid::AbstractArray{Float64,2}, targetType::Nothing)</code></pre><p>Estimates variance of errors and the shrinkage coefficient, without variance  shrinkage. </p><p><strong>Arguments</strong></p><ul><li><code>resid::AbstractArray{Float64,2}:</code> 2d array of floats consisting of the residuals</li><li><code>targetType</code> : <code>nothing</code></li></ul><p><strong>Value</strong></p><p>Tuple</p><ul><li><code>sigma</code>: 2d array of floats; estimated variance of errors</li><li><code>lambda</code>: 0.0</li></ul><p><strong>Some notes</strong></p><p>Since this version of <code>calc_sigma</code> does not implement variance shrinkage, the  shrinkage coefficient lambda is 0. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm_helpers.jl#L32-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.calc_var-NTuple{5, AbstractMatrix{Float64}}" href="#MatrixLM.calc_var-NTuple{5, AbstractMatrix{Float64}}"><code>MatrixLM.calc_var</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_var(X::AbstractArray{Float64,2}, Z::AbstractArray{Float64,2},
         XTX::AbstractArray{Float64,2}, ZTZ::AbstractArray{Float64,2}, 
         sigma::AbstractArray{Float64,2})</code></pre><p>Calculate the variance (diagonal of the covariance matrix) of the coefficient  estimates. </p><p><strong>Arguments</strong></p><ul><li><code>X::AbstractArray{Float64,2}</code>: The row covariates, with all  categorical variables coded in appropriate contrasts</li><li><code>Z::AbstractArray{Float64,2}</code>: The column covariates, with all  categorical variables coded in appropriate contrasts</li><li><code>XTX::AbstractArray{Float64,2}</code>: X*transpose(X) product as a 2d array of floats </li><li><code>ZTZ::AbstractArray{Float64,2}</code>: Z*transpose(Z) product as a 2d array of floats </li><li><code>sigma::AbstractArray{Float64,2}</code>: 2d array of floats consisting of the estimated sigma</li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm_helpers.jl#L97-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.center-Tuple{AbstractMatrix{Float64}}" href="#MatrixLM.center-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.center</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">center(A::AbstractArray{Float64,2})</code></pre><p>Centers columns of a 2d array</p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractArray{Float64,2}</code>: 2d array of floats</li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/shrink_sigma.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.coef-Tuple{Mlm}" href="#MatrixLM.coef-Tuple{Mlm}"><code>MatrixLM.coef</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coef(MLM::Mlm)</code></pre><p>Extracts coefficients from Mlm object</p><p><strong>Arguments</strong></p><ul><li><code>MLM::Mlm</code>: Mlm object</li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/predict.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.contr" href="#MatrixLM.contr"><code>MatrixLM.contr</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">contr(df::DataFrames.DataFrame, cVars::AbstractArray{Symbol,1}, 
      cTypes::AbstractArray{String,1}=repeat([&quot;treat&quot;], inner=length(cVars)), 
      trtRefs::AbstractArray= repeat([nothing], inner=length(cVars)))</code></pre><p>Converts categorical variables in a DataFrame to specified contrast types.  All other variables are left as-is. </p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrames.DataFrame</code>: DataFrame of variables</li><li><code>cVar::Symbol</code>: symbol for the categorical variable in df to be converted</li><li><code>cTypes::AbstractArray{String,1}</code>: 1d array of character strings of the same length as <code>cVars</code>,  indicating the types of contrasts to use. Defaults to treatment contrasts  (&quot;treat&quot;) for all variables in <code>cVars</code>. Other options include &quot;sum&quot; for sum  contrasts, &quot;noint&quot; for treatment contrasts with no intercept, and  &quot;sumnoint&quot; for sum contrasts with no intercept. For &quot;treat&quot; <code>cTypes</code>, you  can also specify the level to use as the reference treatment using <code>trtRefs</code>. </li><li><code>trtRefs::AbstractArray</code>: optional 1d array of character strings of the same length as  <code>cVars</code>, specifying the level to use as the references for treatment  contrasts. Defaults to nothing for all variables in <code>cVars</code>.</li></ul><p><strong>Value</strong></p><p>DataFrame with same variables as the original DataFrame, but categorical  variables converted to dummy contrasts. </p><p><strong>Some notes</strong></p><p>If <code>cVars</code> consists of only an empty Symbol, i.e. <code>cVars=[Symbol()]</code>, this  will signal to the function that no contrasts should be created. The  original DataFrame will be returned. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/contr.jl#L107-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.cov_est-Tuple{AbstractMatrix{Float64}}" href="#MatrixLM.cov_est-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.cov_est</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cov_est(resid::AbstractArray{Float64,2})</code></pre><p>Estimates error variance and its variance/covariance</p><p><strong>Arguments</strong></p><ul><li><code>resid::AbstractArray{Float64,2}</code>: 2d array of floats consisting of the residuals</li></ul><p><strong>Value</strong></p><p>Tuple</p><ul><li>est: 2d array of floats; estimate</li><li>varest: 2d array of floats; variance/covariance estimate</li></ul><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/shrink_sigma.jl#L29-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.design_matrix-Tuple{Any, DataFrames.DataFrame, Dict}" href="#MatrixLM.design_matrix-Tuple{Any, DataFrames.DataFrame, Dict}"><code>MatrixLM.design_matrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">design_matrix(frml, df::DataFrame,cntrst::Dict{Symbol, AbstractContrasts})

Returns the design matrix based on the formula terms and the data source.

# Arguments 

- `frml`: formula terms generated by the macro `@mlmformula`
- `df`: dataframe containing the data source table
- `cntrst`: dictionnary describing encoding method for categorical or ordinal variables, based on `StatsModels.jl`</code></pre><hr/><pre><code class="language-julia hljs">design_matrix(frml, df::DataFrame, cntrst::Vector)

Returns the design matrix based on the formula terms and the data source.

# Arguments 

- `frml`: formula terms generated by the macro `@mlmformula`
- `df`: dataframe containing the data source table
- `cntrst`: A vector containing tuples of variable names and corresponding  encoding function.</code></pre><hr/><pre><code class="language-julia hljs">design_matrix(frml, df::DataFrame)

Returns the default design matrix based on the formula terms and the data source, where
all the categorical variables are dummy coded.

# Arguments 

- `frml`: formula terms generated by the macro `@mlmformula`
- `df`: dataframe containing the data source table</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/design_matrix.jl#L30-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.design_matrix_names-Tuple{Any, DataFrames.DataFrame, Dict}" href="#MatrixLM.design_matrix_names-Tuple{Any, DataFrames.DataFrame, Dict}"><code>MatrixLM.design_matrix_names</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">design_matrix_names(frml, df,cntrst::Dict{Symbol, AbstractContrasts})

Returns the columns names of the design matrix based on the formula terms and the data source.

# Arguments 

- `frml`: formula terms generated by the macro `@mlmformula`
- `df`: dataframe containing the data source table
- `cntrst`: dictionnary describing encoding method for categorical or ordinal variables, based on `StatsModels.jl`</code></pre><hr/><pre><code class="language-julia hljs">design_matrix_names(frml, df::DataFrame, cntrst::Vector)

Returns the design matrix based on the formula terms and the data source.

# Arguments 

- `frml`: formula terms generated by the macro `@mlmformula`
- `df`: dataframe containing the data source table
- `cntrst`: A vector containing tuples of variable names and corresponding  encoding function.</code></pre><hr/><pre><code class="language-julia hljs">design_matrix_names(frml, df::DataFrame)

Returns the columns names of the design matrix based on the formula terms and the data source, where
all the categorical variables are dummy coded.

# Arguments 

- `frml`: formula terms generated by the macro `@mlmformula`
- `df`: dataframe containing the data source table</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/design_matrix.jl#L91-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.diagonal-Tuple{AbstractMatrix{Float64}}" href="#MatrixLM.diagonal-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.diagonal</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">diagonal(A::AbstractArray{Float64,2})</code></pre><p>Get the diagonal of a 2d array of floats. This just calls the base diag  function.</p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractArray{Float64,2}</code>: 2d array of floats</li></ul><p><strong>Value</strong></p><p>1d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/kron_diag.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.diagonal-Tuple{AbstractVector{Float64}}" href="#MatrixLM.diagonal-Tuple{AbstractVector{Float64}}"><code>MatrixLM.diagonal</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">diagonal(A::AbstractArray{Float64,1})</code></pre><p>Get the diagonal of a 1d array of floats. Behaves like an identity function  (returns itself). </p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractArray{Float64,1}</code>: 1d array of floats</li></ul><p><strong>Value</strong></p><p>1d array of floats </p><p><strong>Some notes</strong></p><p>Originally intended for use when A is a 1 by 1 array, so may have unintended  consequences for a 1d array of length &gt; 1. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/kron_diag.jl#L22-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.diagonal-Tuple{Float64}" href="#MatrixLM.diagonal-Tuple{Float64}"><code>MatrixLM.diagonal</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">diagonal(A::Float64)</code></pre><p>Get the diagonal of a single scalar (float) value. Behaves like an identity  function (returns itself). </p><p><strong>Arguments</strong></p><ul><li><code>A::Float64</code>: floating scalar</li></ul><p><strong>Value</strong></p><p>Floating scalar</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/kron_diag.jl#L48-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.fitted-Tuple{Mlm}" href="#MatrixLM.fitted-Tuple{Mlm}"><code>MatrixLM.fitted</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fitted(MLM::Mlm)</code></pre><p>Calculate fitted values of an Mlm object</p><p><strong>Arguments</strong></p><ul><li><code>MLM::Mlm</code>: Mlm object</li></ul><p><strong>Value</strong></p><p>Response object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/predict.jl#L72-L85">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.get_X-Tuple{RawData}" href="#MatrixLM.get_X-Tuple{RawData}"><code>MatrixLM.get_X</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_X(data::RawData)</code></pre><p>Extract X matrix from RawData object </p><p><strong>Arguments</strong></p><ul><li><code>data::RawData</code>: RawData object</li></ul><p><strong>Value</strong></p><p>2d array</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/data_types.jl#L86-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.get_Y-Tuple{RawData}" href="#MatrixLM.get_Y-Tuple{RawData}"><code>MatrixLM.get_Y</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_Y(data::RawData)</code></pre><p>Extract Y matrix from RawData object</p><p><strong>Arguments</strong></p><ul><li><code>data::RawData</code>: RawData object</li></ul><p><strong>Value</strong></p><p>2d array</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/data_types.jl#L126-L139">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.get_Z-Tuple{RawData}" href="#MatrixLM.get_Z-Tuple{RawData}"><code>MatrixLM.get_Z</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_Z(data::RawData)</code></pre><p>Extract Z matrix from RawData object</p><p><strong>Arguments</strong></p><ul><li><code>data::RawData</code>: RawData object</li></ul><p><strong>Value</strong></p><p>2d array</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/data_types.jl#L106-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.get_dummy-Tuple{DataFrames.DataFrame, Symbol, String, Nothing}" href="#MatrixLM.get_dummy-Tuple{DataFrames.DataFrame, Symbol, String, Nothing}"><code>MatrixLM.get_dummy</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_dummy(df::DataFrames.DataFrame, cVar::Symbol, 
          cType::String, trtRef::Nothing)</code></pre><p>Convert categorical variable to dummy indicators using specified contrast  type. This covers all cases except for treatment contrasts with a specified  reference level. </p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrames.DataFrame</code>: DataFrame of variables</li><li><code>cVar::Symbol</code>: symbol for the categorical variable in df to be converted</li><li><code>cType::String</code>: character string indicating the type of contrast to use for <code>cVar</code></li><li><code>trtRef::Nothing</code>: nothing</li></ul><p><strong>Value</strong></p><p>DataFrame of dummy variables for the specified categorical variable</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/contr.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.get_dummy-Tuple{DataFrames.DataFrame, Symbol, String, String}" href="#MatrixLM.get_dummy-Tuple{DataFrames.DataFrame, Symbol, String, String}"><code>MatrixLM.get_dummy</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_dummy(df::DataFrames.DataFrame, cVar::Symbol, 
          cType::String, trtRef::String)</code></pre><p>Convert categorical variables to for treatment contrasts with a specified  reference level. </p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrames.DataFrame</code>: DataFrame of variables</li><li><code>cVar::Symbol</code>: symbol for the categorical variable in df to be converted</li><li><code>cType::String</code>: character string indicating the type of contrast to use for <code>cVar</code></li><li><code>trtRef::String</code>: character string specifying the level in cVar to use as the reference </li></ul><p><strong>Value</strong></p><p>DataFrame of dummy variables for the specified categorical variable</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/contr.jl#L61-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.kron_diag-Tuple{Any, Any}" href="#MatrixLM.kron_diag-Tuple{Any, Any}"><code>MatrixLM.kron_diag</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">kron_diag(A, B)</code></pre><p>Compute the diagonal of the Kronecker product of arrays or scalars</p><p><strong>Arguments</strong></p><ul><li><code>A</code>: square 2d array of floats, a 1d array of floats, or a scalar</li><li><code>B</code>: square 2d array of floats, a 1d array of floats, or a scalar</li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/kron_diag.jl#L69-L83">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.mlm-Tuple{RawData}" href="#MatrixLM.mlm-Tuple{RawData}"><code>MatrixLM.mlm</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mlm(data::RawData; addXIntercept::Bool=true, addZIntercept::Bool=true, weights=nothing, targetType=nothing)</code></pre><p>Matrix linear model using least squares method. Column weighted least squares  and shrinkage of the variance of the errors are options. </p><p><strong>Arguments</strong></p><ul><li><code>data::RawData</code>: RawData object</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>addXIntercept::Bool</code> : boolean flag indicating whether or not to include an <code>X</code>  intercept (row main effects). Defaults to <code>true</code>. </li><li><code>addZIntercept::Bool</code> : boolean flag indicating whether or not to include a <code>Z</code>  intercept (column main effects). Defaults to <code>true</code>. </li><li><code>weights</code> : 1d array of floats to use as column weights for <code>Y</code>, or <code>nothing</code>.  If the former, must be the same length as the number of columns of <code>Y</code>.  Defaults to <code>nothing</code>. </li><li><code>targetType</code> : string indicating the target type toward which to shrink the  error variance, or <code>nothing</code>. If the former, acceptable inputs are &quot;A&quot;, &quot;B&quot;,  &quot;C&quot;, and &quot;D&quot;. Defaults to <code>nothing</code>. <ul><li>&quot;A&quot;: Target is identity matrix</li><li>&quot;B&quot;: Target is diagonal matrix with constant diagonal</li><li>&quot;C&quot;: Target is has same diagonal element, and same off-diagonal element</li><li>&quot;D&quot;: Target is diagonal matrix with unequal entries</li></ul></li></ul><p><strong>Value</strong></p><p>An Mlm object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm.jl#L135-L166">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.mlm_fit-Tuple{RawData, Nothing, Any}" href="#MatrixLM.mlm_fit-Tuple{RawData, Nothing, Any}"><code>MatrixLM.mlm_fit</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mlm_fit(data::RawData, weights::Nothing, targetType)</code></pre><p>Matrix linear model using least squares method. Optionally incorporates  shrinkage of the variance of the errors. </p><p><strong>Arguments</strong></p><ul><li><code>data::RawData</code>: RawData object</li><li><code>weights::Nothing</code>: <code>nothing</code></li><li><code>targetType</code>: string indicating the target type toward which to shrink the  error variance, or <code>nothing</code>. If the former, acceptable inputs are &quot;A&quot;, &quot;B&quot;,  &quot;C&quot;, and &quot;D&quot;. <ul><li>&quot;A&quot;: Target is identity matrix</li><li>&quot;B&quot;: Target is diagonal matrix with constant diagonal</li><li>&quot;C&quot;: Target is has same diagonal element, and same off-diagonal element</li><li>&quot;D&quot;: Target is diagonal matrix with unequal entries</li></ul></li></ul><p><strong>Value</strong></p><p>An Mlm object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm.jl#L29-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.mlm_fit-Tuple{RawData, Vector{Float64}, Any}" href="#MatrixLM.mlm_fit-Tuple{RawData, Vector{Float64}, Any}"><code>MatrixLM.mlm_fit</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mlm_fit(data::RawData, weights::Array{Float64,1}, targetType)</code></pre><p>Matrix linear model using column weighted least squares method. Optionally  incorporates shrinkage of the variance of the errors. </p><p><strong>Arguments</strong></p><ul><li><code>data</code>::RawData : RawData object</li><li><code>weights</code>::Array{Float64,1} : 1d array of floats to use as column weights for <code>Y</code>. Must be the  same length as the number of columns of <code>Y</code>. </li><li><code>targetType</code> : string indicating the target type toward which to shrink the  error variance, or <code>nothing</code>. If the former, acceptable inputs are &quot;A&quot;, &quot;B&quot;,  &quot;C&quot;, and &quot;D&quot;. <ul><li>&quot;A&quot;: Target is identity matrix</li><li>&quot;B&quot;: Target is diagonal matrix with constant diagonal</li><li>&quot;C&quot;: Target is has same diagonal element, and same off-diagonal element</li><li>&quot;D&quot;: Target is diagonal matrix with unequal entries</li></ul></li></ul><p><strong>Value</strong></p><p>An Mlm object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm.jl#L76-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.mlm_perms" href="#MatrixLM.mlm_perms"><code>MatrixLM.mlm_perms</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mlm_perms(data::RawData, nPerms::Int64=1000; 
          permFun::Function=shuffle_rows, 
          addXIntercept::Bool=true, addZIntercept::Bool=true, 
          weights=nothing, targetType=nothing, isMainEff::Bool=false)</code></pre><p>Obtains permutation p-values for MLM t-statistics. </p><p><strong>Arguments</strong></p><ul><li><code>data::RawData</code>: RawData object</li><li><code>nPerms::Int64=1000</code>: Number of permutations. Defaults to <code>1000</code>.</li></ul><p><strong>Keyword arguments</strong></p><ul><li>permFun::Function: function used to permute <code>Y</code>. Defaults to <code>shuffle_rows</code>  (shuffles rows of <code>Y</code>). </li><li>addXIntercept::Bool=true: Boolean flag indicating whether or not to include an <code>X</code>  intercept (row main effects). Defaults to <code>true</code>. </li><li>addZIntercept::Bool=true: Boolean flag indicating whether or not to include a <code>Z</code>  intercept (column main effects). Defaults to <code>true</code>. </li><li>weights: 1d array of floats to use as column weights for <code>Y</code>, or <code>nothing</code>.  If the former, must be the same length as the number of columns of <code>Y</code>.  Defaults to <code>nothing</code>. </li><li>targetType: string indicating the target type toward which to shrink the  error variance, or <code>nothing</code>. If the former, acceptable inputs are &quot;A&quot;, &quot;B&quot;,  &quot;C&quot;, and &quot;D&quot;. Defaults to <code>nothing</code>.<ul><li>&quot;A&quot;: Target is identity matrix</li><li>&quot;B&quot;: Target is diagonal matrix with constant diagonal</li><li>&quot;C&quot;: Target is has same diagonal element, and same off-diagonal element</li><li>&quot;D&quot;: Target is diagonal matrix with unequal entries </li></ul></li><li>isMainEff::Bool: boolean flag indicating whether or not to include p-values for  the main effects</li></ul><p><strong>Value</strong></p><p>Tuple</p><ul><li><code>tStats</code>: 2d array of floats; t-statistics</li><li><code>pvals</code>: 2d array of floats; permutation p-values</li></ul><p><strong>Some notes</strong></p><p>Permutations are computed in parallel when possible. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm_perms.jl#L1-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.perm_pvals" href="#MatrixLM.perm_pvals"><code>MatrixLM.perm_pvals</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">perm_pvals(fun::Function, data::RawData, nPerms::Int64=1000; 
           permFun::Function=shuffle_rows, funArgs...)</code></pre><p>Obtains permutation p-values. </p><p><strong>Arguments</strong></p><ul><li><code>fun::Function</code>: function that returns a test statistic</li><li><code>data::RawData</code>: RawData object</li><li><code>nPerms::Int64</code>: number of permutations. Defaults to <code>1000</code>.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>permFun::Function</code>: function used to permute <code>Y</code>. Defaults to <code>shuffle_rows</code>  (shuffles rows of <code>Y</code>). </li><li><code>funArgs</code>: variable keyword arguments to be passed into <code>fun</code></li></ul><p><strong>Value</strong></p><p>Tuple</p><ul><li><code>testStats</code>: 2d array of floats; t-statistics</li><li><code>pvals</code>: 2d array of floats; permutation p-values</li></ul><p><strong>Some notes</strong></p><p>Permutations are computed in parallel when possible. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/perm_pvals.jl#L1-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.predict" href="#MatrixLM.predict"><code>MatrixLM.predict</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">predict(MLM::Mlm, newPredictors::Predictors=MLM.data.predictors)</code></pre><p>Calculates new predictions based on Mlm object</p><p><strong>Arguments</strong></p><ul><li><code>MLM::Mlm</code>: Mlm object</li><li><code>newPredictors::Predictors</code>: Predictors object. Defaults to the <code>data.predictors</code> field  in the Mlm object used to fit the model. </li></ul><p><strong>Value</strong></p><p>Response object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/predict.jl#L21-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.remove_intercept-Tuple{AbstractMatrix{Float64}}" href="#MatrixLM.remove_intercept-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.remove_intercept</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remove_intercept(A::AbstractArray{Float64,2})</code></pre><p>Remove the intercept column, assumed to be the first column of a 2d array. </p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractArray{Float64,2}</code>: 2d array of floats</li></ul><p><strong>Value</strong></p><p>Returns A without the intercept column</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/misc_helpers.jl#L27-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.resid" href="#MatrixLM.resid"><code>MatrixLM.resid</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">resid(MLM::Mlm, newData::RawData=MLM.data)</code></pre><p>Calculates residuals of an Mlm object</p><p><strong>Arguments</strong></p><ul><li><code>MLM::Mlm</code>: Mlm object</li><li><code>newData::RawData</code>: RawData object. Defaults to the <code>data</code> field in the Mlm object  used to fit the model. </li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/predict.jl#L93-L108">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.shrink_sigma-Tuple{AbstractMatrix{Float64}, String}" href="#MatrixLM.shrink_sigma-Tuple{AbstractMatrix{Float64}, String}"><code>MatrixLM.shrink_sigma</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">shrink_sigma(resid::AbstractArray{Float64,2}, targetType::String)</code></pre><p>Estimates variance of errors and the shrinkage coefficient</p><p><strong>Arguments</strong></p><ul><li><code>resid::AbstractArray{Float64,2}</code>: 2d array of floats consisting of the residuals</li><li><code>targetType::String</code>: string indicating the target type toward which to shrink the  variance. Acceptable inputs are &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, and &quot;D&quot;. <ul><li>&quot;A&quot;: Target is identity matrix</li><li>&quot;B&quot;: Target is diagonal matrix with constant diagonal</li><li>&quot;C&quot;: Target is has same diagonal element, and same off-diagonal element</li><li>&quot;D&quot;: Target is diagonal matrix with unequal entries</li></ul></li></ul><p><strong>Value</strong></p><p>Tuple</p><ul><li><code>sigma</code>: 2d array of floats; shrunk estimated variance of errors</li><li><code>lambda</code>: floating scalar; estimated shrinkage coefficient  (0 = no shrinkage, 1 = complete shrinkage)</li></ul><p><strong>Reference</strong></p><p>Ledoit, O., &amp; Wolf, M. (2003). Improved estimation of the covariance matrix      of stock returns with an application to portfolio selection. Journal of      empirical finance, 10(5), 603-621.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/shrink_sigma.jl#L81-L109">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.shuffle_cols-Tuple{AbstractMatrix{Float64}}" href="#MatrixLM.shuffle_cols-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.shuffle_cols</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">shuffle_cols(A::AbstractArray{Float64,2})</code></pre><p>Shuffles columns of a 2d array </p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractArray{Float64,2}</code>: 2d array of floats</li></ul><p><strong>Value</strong></p><p>Returns A with columns shuffled</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/misc_helpers.jl#L75-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.shuffle_rows-Tuple{AbstractMatrix{Float64}}" href="#MatrixLM.shuffle_rows-Tuple{AbstractMatrix{Float64}}"><code>MatrixLM.shuffle_rows</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">shuffle_rows(A::AbstractArray{Float64,2})</code></pre><p>Shuffles rows of a 2d array </p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractArray{Float64,2}</code>: 2d array of floats</li></ul><p><strong>Value</strong></p><p>Returns A with rows shuffled</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/misc_helpers.jl#L55-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.t_stat" href="#MatrixLM.t_stat"><code>MatrixLM.t_stat</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">t_stat(MLM::Mlm, isMainEff::Bool=false)</code></pre><p>Calculates t-statistics of an Mlm object</p><p><strong>Arguments</strong></p><ul><li><code>MLM::Mlm</code>: Mlm object</li><li><code>isMainEff::Bool</code> : boolean flag indicating whether or not to include t-statistics  for the main effects</li></ul><p><strong>Value</strong></p><p>2d array of floats</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/mlm.jl#L197-L212">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MatrixLM.@mlmformula-Tuple{Any}" href="#MatrixLM.@mlmformula-Tuple{Any}"><code>MatrixLM.@mlmformula</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mlmformula(ex)

Capture and parse a formula expression for matrix linear model.

The `@mlmformula` domain-specific language serves the purpose of facilitating table-to-matrix transformations.
It is structured to be intuitive for users who have experience with other statistical software.
An elementary formula in this language consists of individual terms. These terms may either be symbols that reference
data columns or literal numbers `0` or `1`. They are combined by the operators `+`, `&amp;`, and `*`. 
To ensure correct parsing of the formula, the `@mlmformula`` macro needs to be invoked within parentheses. 
This macro is built upon the `@formula` macro from the `StatsModels.jl` package.

# Example
```julia
julia&gt; @mlmformula(1 + varA * VarB)
1
varA(unknown)
VarB(unknown)
varA(unknown) &amp; VarB(unknown)
```</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/senresearch/MatrixLM.jl/blob/329ac9ac0471ce9f6a3a3a66f7fbc151c336ea12/src/design_matrix.jl#L4-L24">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../example_ordinal_data/">« Example: MLM for ordinal data</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 8 October 2025 21:41">Wednesday 8 October 2025</span>. Using Julia version 1.12.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
